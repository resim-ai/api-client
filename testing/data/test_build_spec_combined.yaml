name: data
services:
  webapp:
    image: nginx:alpine
    environment:
      - ENVIRONMENT=production
      - DEBUG=true   # Merged list example
    networks:
      - frontend
      - backend      # Extended the networks list
    volumes:
      - webdata:/usr/share/nginx/html  # Completely replaced original volume mapping
    ports:
      - "8080:80"

  worker:
    image: alpine
    command: ["sh", "-c", "echo Overridden Worker command"]  # Command completely replaced
    networks:
      - backend

networks:
  frontend:
    driver: bridge
  backend:
    driver: bridge

volumes:
  webdata: